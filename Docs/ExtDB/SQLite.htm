<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=windows-1251"/>
	<title></title>
	<meta name="generator" content="AlterOffice 3.2.10.1 (Windows)"/>
	<meta name="author" content="Александр Владимирович Агеев"/>
	<meta name="created" content="2023-10-17T11:14:33.946000000"/>
	<meta name="changedby" content="Александр Владимирович Агеев"/>
	<meta name="changed" content="2023-10-17T11:49:35.749000000"/>
	<style type="text/css">
		@page { size: 21cm 29.7cm; margin: 2cm }
		p { line-height: 115%; margin-bottom: 0.25cm; background: transparent }
		h1 { margin-bottom: 0.21cm; background: transparent; page-break-after: avoid }
		h1.western { font-family: "Liberation Serif", serif; font-size: 24pt; font-weight: bold }
		h1.cjk { font-family: "NSimSun"; font-size: 24pt; font-weight: bold }
		h1.ctl { font-family: "Lucida Sans"; font-size: 24pt; font-weight: bold }
		h2 { margin-top: 0.35cm; margin-bottom: 0.21cm; background: transparent; page-break-after: avoid }
		h2.western { font-family: "Liberation Sans", sans-serif; font-size: 16pt; font-weight: bold }
		h2.cjk { font-family: "Microsoft YaHei"; font-size: 16pt; font-weight: bold }
		h2.ctl { font-family: "Lucida Sans"; font-size: 16pt; font-weight: bold }
		a:link { color: #000080; so-language: zxx; text-decoration: underline }
		a:visited { color: #800000; so-language: zxx; text-decoration: underline }
	</style>
</head>
<body lang="ru-RU" link="#000080" vlink="#800000" dir="ltr"><h1 class="western">
SQLite</h1>
<p style="line-height: 100%; margin-bottom: 0cm">Для работы с <span lang="en-US">SQLite
</span>используется провайдер <span lang="en-US">System.Data.SQLite
(<a href="http://system.data.sqlite.org/">http://system.data.sqlite.org/</a>).
</span>Чтобы одну и ту же сборку можно было использовать и в <span lang="en-US">Windows
(.Net Framework) </span>и в <span lang="en-US">Linux (Mono),
</span>требуется ручная компиляция из исходных текстов. См.
&laquo;Universal System.Data.Sqlite binary for .NET and Mono&raquo;
(<a href="https://www.codeproject.com/Articles/821149/Universal-System-Data-Sqlite-binary-for-NET-and-Mo">https://www.codeproject.com/Articles/821149/Universal-System-Data-Sqlite-binary-for-NET-and-Mo</a>).
Компиляция выполняется под <span lang="en-US">Windows</span> при
наличии<span lang="en-US"> Visual Studio (</span>проверялось на<span lang="en-US">
VS 2015) </span>Для компиляции требуется:</p>
<p style="line-height: 100%; margin-bottom: 0cm">1. Со страницы
загрузки  <span lang="en-US">System.Data.SQLite </span>скачать
исходные тексты (sqlite-netFx-full-source-<span lang="en-US">X</span>.<span lang="en-US">X</span>.<span lang="en-US">X</span>.<span lang="en-US">X</span>.zip)
и распаковать их.</p>
<p style="line-height: 100%; margin-bottom: 0cm">2. Запустить <span lang="en-US">cmd.exe
</span>и перейти в каталог <span lang="en-US">Setup.</span></p>
<p style="line-height: 100%; margin-bottom: 0cm"><span lang="en-US">3.
</span><span lang="en-US">В</span>ыполнить: 
</p>
<p style="line-height: 100%; margin-bottom: 0cm">set_netFx20.bat</p>
<p style="line-height: 100%; margin-bottom: 0cm">4. Выполнить: 
</p>
<p style="line-height: 100%; margin-bottom: 0cm">SET
MSBUILD_ARGS=/property:UseInteropDll=false
/property:UseSqliteStandard=true</p>
<p style="line-height: 100%; margin-bottom: 0cm">5. Выполнить:</p>
<p style="line-height: 100%; margin-bottom: 0cm">build.bat
ReleaseManagedOnly</p>
<p style="line-height: 100%; margin-bottom: 0cm">6. В каталоге
<span lang="en-US">bin\2005 </span>забрать готовые
<span lang="en-US">System.Data.SQLite.dll </span>и 
<span lang="en-US">System.Data.SQLite.xml </span>и скопировать их в
<span lang="en-US">FreeLibSet\Others</span></p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<p style="line-height: 100%; margin-bottom: 0cm">Кроме<span lang="en-US">
managed-</span>сборки <span lang="en-US">System.Data.SQLite.dll, </span>под
<span lang="en-US">Windows </span>требуется еще и библиотека
<span lang="en-US">sqlite3.dll. </span>Ее можно взять с сайта
<span lang="en-US"><a href="https://sqlite.org/">https://sqlite.org</a>.
</span>Имеются 2 версии: для 32- <span lang="en-US">b 64-</span>битной
версии <span lang="en-US">Windows. </span>Они размещаются в папках
<span lang="en-US">FreeLibSet\Others\x86 </span>и
<span lang="en-US">FreeLibSet\Others\x</span>64 соответственно. Под
<span lang="en-US">linux </span><span lang="en-US">д</span>олжна быть
установлена подходящая библиотека <span lang="en-US">libsqlite3.so
(</span>не входит в состав <span lang="en-US">FreeLibSet)</span></p>
<p style="line-height: 100%; margin-bottom: 0cm">Проект <span lang="en-US">ExtDB.dll
</span>содержит ссылку только на сборку <span lang="en-US">System.Data.SQLite.dll.</span></p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
<h2 class="western">Проект выполняемого файла</h2>
<p style="line-height: 100%; margin-bottom: 0cm">Проект программы,
использующей <span lang="en-US">SQLite, </span>должен обеспечивать
копирование файлов в выходной каталог. Для этого в проекте должны
быть:</p>
<p style="line-height: 100%; margin-bottom: 0cm">1. Ссылка на
<span lang="en-US">FreeLibSet\Others\System.Data.SQLite.dll </span>с
включенным режимом &laquo;<span lang="en-US">Copy local</span>&raquo;</p>
<p style="line-height: 100%; margin-bottom: 0cm">2. Папки &laquo;<span lang="en-US">x86</span>&raquo;
и &laquo;<span lang="en-US">x64</span>&raquo;. Создаются командой
&laquo;<span lang="en-US">New Folder</span>&raquo; в окне <span lang="en-US">Solution.
</span>Эти папки остаются пустыми, но нужны для организации ссылки</p>
<p style="line-height: 100%; margin-bottom: 0cm">3. Файлы
<span lang="en-US">sqlite3.dll. </span>На папке &laquo;<span lang="en-US">x86</span>&raquo;
выполняется команда &laquo;<span lang="en-US">Add</span>&raquo;-&laquo;<span lang="en-US">Existing
item</span>&raquo;. Выбирается файл &laquo;<span lang="en-US">FreeLibSet\Others\x86</span>&raquo;
в режиме &laquo;<span lang="en-US">Add as link</span>&raquo;. В
свойствах устанавливается режим &laquo;<span lang="en-US">Copy
always</span>&raquo;. Аналогично для 64-битной версии.</p>
<p style="line-height: 100%; margin-bottom: 0cm"><br/>

</p>
</body>
</html>