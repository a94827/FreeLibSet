<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=windows-1251"/>
	<title>Изменения в модуле ExtDBDocs.dll</title>
	<meta name="generator" content="LibreOffice 5.4.7.2 (Windows)"/>
	<meta name="created" content="2017-12-15T18:38:40.447000000"/>
	<meta name="changed" content="2024-08-12T20:51:55.015000000"/>
	<style type="text/css">
		@page { margin: 2cm }
		p { margin-bottom: 0.25cm; background: transparent; orphans: 2; widows: 2 }
		td p { margin-bottom: 0.25cm; background: transparent; orphans: 2; widows: 2 }
		h1 { margin-bottom: 0.21cm; background: transparent; orphans: 2; widows: 2 }
		h1.western { font-family: "Liberation Serif", serif }
		h1.cjk { font-family: "SimSun"; font-size: 24pt }
		h1.ctl { font-family: "Mangal"; font-size: 24pt }
		a:link { so-language: zxx }
		a:visited { color: #800080 }
	</style>
</head>
<body lang="ru-RU" vlink="#800080" dir="ltr">
<p><font face="Lucida Sans"><span lang="hi-IN">&#65279; </span></font>
</p>
<h1 class="western">История изменений <br/>
Модуль <span lang="en-US">ExtDBDocs</span>.<span lang="en-US">dll</span>
(Доступ к документам в базе данных)</h1>
<p>Модуль входит в комплект библиотек <span lang="en-US">FreeLibSet</span>,
и является свободным программным обеспечением (Free Software)</p>
<h1 class="western">Версия <span lang="en-US">2</span>.<span lang="en-US">0</span></h1>
<p>Полный номер версии файла, который можно узнать, посмотрев
свойства файла или в меню &laquo;О программе&raquo;, состоит из
четырех чисел и имеет вид &laquo;<span lang="en-US">2</span>.<span lang="en-US">0</span>.0.<span lang="en-US">X</span>&raquo;.
В таблице указано только последнее число &laquo;<span lang="en-US">X</span>&raquo;</p>
<table width="100%" cellpadding="2" cellspacing="0">
	<col width="25*">
	<col width="35*">
	<col width="196*">
	<tr valign="top">
		<td width="10%" style="border: 1.00pt solid #000000; padding: 0.05cm">
			<p align="center">Версия</p>
		</td>
		<td width="14%" style="border-top: 1.00pt solid #000000; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0.05cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p align="center">Дата</p>
		</td>
		<td width="77%" style="border-top: 1.00pt solid #000000; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0.05cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p align="center">Что сделано</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p align="center">352</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p align="center">12.08.2024</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p>1. <span lang="ru-RU">Свойство</span>
			<span lang="en-US">DBxStructSource.IsRealStruct (<a href="ExtDB_20.htm#v352p1">ExtDB,
			v.35</a></span><a href="ExtDB_20.htm#v352p1"><span lang="ru-RU">2</span><span lang="en-US">
			</span><span lang="ru-RU">п.1</span></a><span lang="en-US">)</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">351</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">05.04.2024-10.04.2024</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. StringValueCommonFilter (<a href="ExtDBDocs_11.htm#v077p1">v.77
			</a></span><a href="ExtDBDocs_11.htm#v077p1"><span lang="ru-RU">п.1</span></a><span lang="en-US">)
			</span><span lang="ru-RU">использует </span><span lang="en-US">SQL-</span><span lang="ru-RU">фильтр
			</span><span lang="en-US">StringValueFilter </span><span lang="ru-RU">(</span><a href="ExtDB_11.htm#v020p2"><span lang="en-US">ExtDB,
			v.20 </span><span lang="ru-RU">п.2</span></a><span lang="ru-RU">)</span><span lang="en-US">,
			</span><span lang="ru-RU">а не </span><span lang="en-US">ValueFilter.
			</span><span lang="ru-RU">Свойство </span><span lang="en-US">IgnoreCase
			(</span><span lang="ru-RU">действует также в
			</span><span lang="en-US">StartsWithCommonFilter)</span><span lang="ru-RU">.
			</span>
			</p>
			<p><span lang="en-US">2. </span><span lang="ru-RU">Классы фильтров
			</span><span lang="en-US">Int</span><span lang="ru-RU">RangeInclusionCommonFilter,
			</span><span lang="en-US">Single</span><span lang="ru-RU">RangeInclusionCommonFilter,
			DoubleRangeInclusionCommonFilter и
			</span><span lang="en-US">Decimal</span><span lang="ru-RU">RangeInclusionCommonFilter.
			Убран фильтр </span><span lang="en-US">Year</span><span lang="ru-RU">RangeInclusionCommonFilter
			</span><span lang="en-US">(<a href="ExtDBDocs_11.htm#v077p1">v.77
			</a></span><a href="ExtDBDocs_11.htm#v077p1"><span lang="ru-RU">п.1</span></a><span lang="en-US">)</span><span lang="ru-RU">,
			который не поддерживал </span><span lang="en-US">SQL-</span><span lang="ru-RU">фильтр.</span></p>
			<p><span lang="en-US">3. </span><span lang="ru-RU">Классы фильтров
			</span><span lang="en-US">IntRangeCrossCommonFilter</span><span lang="ru-RU">,
			</span><span lang="en-US">Single</span><span lang="ru-RU">Range</span><span lang="en-US">Cross</span><span lang="ru-RU">CommonFilter,
			DoubleRange</span><span lang="en-US">Cross</span><span lang="ru-RU">CommonFilter
			и </span><span lang="en-US">Decimal</span><span lang="ru-RU">Range</span><span lang="en-US">Cross</span><span lang="ru-RU">CommonFilter.
			Изменена реализация </span><span lang="en-US">Date</span><span lang="ru-RU">Range</span><span lang="en-US">Cross</span><span lang="ru-RU">CommonFilter
			</span><span lang="en-US">(<a href="ExtDBDocs_11.htm#v091p2">v.91
			</a></span><a href="ExtDBDocs_11.htm#v091p2"><span lang="ru-RU">п.2</span></a><span lang="en-US">)</span><span lang="ru-RU">.</span></p>
			<p lang="en-US">4. <span lang="ru-RU">Изменена реализация
			DateRange</span>CommonFilter</p>
			<p lang="en-US">5. <span lang="ru-RU">Класс
			</span>SingleColumnCommonFilter <span lang="ru-RU">переименован в
			</span>OneColumnCommonFilter, <span lang="ru-RU">чтобы не путалось
			с типом данных &laquo;</span>Single<span lang="ru-RU">&raquo;</span>.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">345</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">07.06.2023</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US">1. <span lang="ru-RU">Внутренний метод
			</span>DBxRealDocProvider.InitMaxLength() <span lang="ru-RU">вместо
			убранного </span>DBxTableStruct.InitDataRowLimits()</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p align="center">344</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p align="center">24.03.2023</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="ru-RU">1</span><span lang="en-US">. </span><span lang="ru-RU">Метод
			</span><span lang="en-US">DBxRealDocProvider.DoLoadSubDataVersion().
			</span><span lang="ru-RU">При просмотре исторической версии
			документа, содержащего поддокументы возникало лишнее исключение,
			если у поддокумента были изменения, которые вносились до
			&quot;начального состояния&quot; документа. Об этом изменении нет
			записи в базе данных </span><span lang="en-US">undo. </span><span lang="ru-RU">Теперь
			отображается текущее состояние поддокумента (с учетом
			восстановления ранее удаленного поддокумента, </span><a href="ExtDBDocs_11.htm#v054p7"><span lang="en-US">v.54
			</span><span lang="ru-RU">п.7</span></a><span lang="ru-RU">)</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">336</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">11.01.2023</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. </span><span lang="ru-RU">Внутренняя
			процедура </span><span lang="en-US">DBxRealDocProvider.RealDocProviderExecProc
			</span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v085p2"><span lang="en-US">v.85
			</span><span lang="ru-RU">п.2</span></a><span lang="ru-RU">)
			устанавливает свойство </span><span lang="en-US">ExecProc.ActionName
			</span><span lang="ru-RU">в отладочных целях.</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">325</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">31.07.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. </span><span lang="ru-RU">Вспомогательные</span>
			<span lang="ru-RU">методы</span> <span lang="en-US">DBxCommonFilters.ClearFilter(),
			ClearFilters() </span><span lang="ru-RU">и </span><span lang="en-US">IsAnyNotEmpty</span>
			<span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v077p1"><span lang="en-US">v.77
			</span><span lang="ru-RU">п.1</span></a><span lang="ru-RU">)</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">323</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">12.07.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. </span><span lang="ru-RU">Ошибки в
			</span><span lang="en-US">DBxRealDocProvider,
			DBxChainDocProvider.DoClearCache() </span><span lang="ru-RU">и
			DoAddExceptionInfo() </span><span lang="en-US">(<a href="#v322p1">v.322
			</a></span><a href="#v322p1"><span lang="ru-RU">п.1</span></a><span lang="en-US">)
			</span><span lang="ru-RU">приводили к </span><span lang="en-US">StackOverflowException.</span></p>
			<p><span lang="en-US">2. </span><span lang="ru-RU">Команда
			&quot;Пересчитать вычисляемые поля&quot;
			(</span><span lang="en-US">DBxRealDocProvider.RecalcColumns</span>()<span lang="en-US">,
			<a href="ExtDBDocs_11.htm#v043p1">v.43 </a></span><span lang="ru-RU"><a href="ExtDBDocs_11.htm#v043p1">п.1</a>)</span>
			<span lang="ru-RU">пропускает удаленные документы.</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">322</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">07.07.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US">1. <span lang="ru-RU">Для совместимости с </span>Mono,
			<span lang="ru-RU">в </span>DBxDocProvider <span lang="ru-RU">свойства
			и методы </span>public virtual/abstract <span lang="ru-RU">заменены
			на невиртуальные. Добавлены методы </span>protected abstract.</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">318</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">29.05.2022-31.05.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. </span><span lang="ru-RU">В конструкторе
			</span><span lang="en-US">DBxSubDocTreeModel (<a href="ExtDBDocs_11.htm#v001p9">v.1
			</a></span><a href="ExtDBDocs_11.htm#v001p9"><span lang="ru-RU">п.9</span></a><span lang="en-US">)
			</span><span lang="ru-RU">убран неиспрользуемый аргумент </span><span lang="en-US">columns.
			</span><span lang="ru-RU">Список желаемых столбцов нельзя
			задавать, так как используется таблица поддокументов в
			</span><span lang="en-US">DBxmultiSubDocs. Д</span><span lang="ru-RU">обавлен
			необязательный аргумент </span><span lang="en-US">DataTable,</span>
			<span lang="ru-RU">чтобы можно было использовать
			таблицу-повторитель.</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">315</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">15.04.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. public-</span><span lang="ru-RU">конструктор
			D</span><span lang="en-US">BxMultiSubDocs (<a href="ExtDBDocs_11.htm#v001p3">v.1
			</a></span><a href="ExtDBDocs_11.htm#v001p3"><span lang="ru-RU">п.3</span></a><span lang="en-US">)
			</span><span lang="ru-RU">вызывает D</span><span lang="en-US">BxMultiSubDocs</span><span lang="ru-RU">.</span><span lang="en-US">GetTableReady()
			</span><span lang="ru-RU">для базового объекта. Если таблица
			поддокументов еще не была инициализирована, возникало исключение
			</span><span lang="en-US">NullReferenceException.</span></p>
			<p lang="en-US">2. <span lang="ru-RU">Свойство
			</span>DBxSingleSubDocs.SubDocIds</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">312</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">07.03.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. </span><span lang="ru-RU">При повторной
			записи документа с не изменившимся поддокументом могло возникать
			исключение при вызове </span><span lang="en-US">DBxCon.SetValues()
			</span><span lang="ru-RU">с пустым списком полей. Исключение
			возникало только в определенном случае при </span><span lang="en-US">UseDeleted=false
			</span><span lang="ru-RU">и </span><span lang="en-US">UseVersions=false.
			</span><span lang="ru-RU">Похожее исправление было в другом вызове
			</span><span lang="en-US">SetValues() </span><span lang="ru-RU">(</span><a href="#v308p6"><span lang="en-US">v.308
			</span><span lang="ru-RU">п.6</span></a><span lang="ru-RU">) </span>
			</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">311</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">07.02.2022-03.03.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1</span><span lang="ru-RU">. Изменена
			реализация классов </span><span lang="en-US">DBxVTReference </span><span lang="ru-RU">и
			</span><span lang="en-US">DBxVTReferenceList </span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v001p1"><span lang="en-US">v.1
			</span><span lang="ru-RU">п.1</span></a><span lang="ru-RU">)</span><span lang="en-US">.
			</span><span lang="ru-RU">Используется </span><span lang="en-US">NamedList
			</span><span lang="ru-RU">в качестве базового класса</span><span lang="en-US">.</span>
			<span lang="ru-RU">Свойство </span><span lang="en-US">DBxDocTypes.HasVTRefs.</span>
			<span lang="ru-RU">Добавлена недостающая реализация для переменных
			ссылок в </span><span lang="en-US">DBxRealDocProvider.</span></p>
			<p><span lang="en-US">2. </span><span lang="ru-RU">Свойства
			IDBxDocValues, </span><span lang="en-US">DBxDocValue</span><span lang="ru-RU">.DocCount</span>
			(<a href="ExtDBDocs_11.htm#v001p4"><span lang="en-US">v.1 </span><span lang="ru-RU">п.4</span></a>)
			<span lang="ru-RU">переименовано в </span><span lang="en-US">RowCount</span></p>
			<p><span lang="en-US">3. </span><span lang="ru-RU">Событие
			</span><span lang="en-US">DBxDocType.AfterWrite </span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v001p1"><span lang="en-US">v.1
			</span><span lang="ru-RU">п.1</span></a><span lang="ru-RU">)
			переименовано в </span><span lang="en-US">AfterChange</span></p>
			<p><span lang="en-US">4. </span><span lang="ru-RU">Внутренний
			метод </span><span lang="en-US">DBxDocTypeBase.SetReadOnly() </span><span lang="ru-RU">не
			переводил в режим чтения список </span><span lang="en-US">BinDataRefs</span>
			<span lang="en-US">(<a href="ExtDBDocs_11.htm#v037p1">v.37 </a></span><a href="ExtDBDocs_11.htm#v037p1"><span lang="ru-RU">п.1</span></a><span lang="en-US">)</span></p>
			<p><span lang="en-US">5. </span><span lang="ru-RU">Внутреннее
			свойство </span><span lang="en-US">DBxRealDocProviderGlobal.MasterRefs.
			</span><span lang="ru-RU">Раньше ссылка на объект </span><span lang="en-US">DBxExtRefs
			</span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v112p4"><span lang="en-US">v.112
			</span><span lang="ru-RU">п.4</span></a><span lang="ru-RU">)
			хранилась внутри </span><span lang="en-US">DBxRealDocProvider </span><span lang="ru-RU">и
			инициализировалась при первом удалении документа.</span></p>
			<p lang="en-US">6. <span lang="ru-RU">При записи документов в
			</span>DBxRealDocProvider.ApplyChangesInternal2() <span lang="ru-RU">выполняются
			дополнительные запросы в базу данных для проверки корректности
			ссылочных полей</span> (<span lang="ru-RU">обычных и переменных
			ссылок</span>)<span lang="ru-RU">. Метод </span>ValidateRefs().</p>
			<p lang="en-US">7. DBxMultiDocs.SingleDocValues.IsReadOnly
			<span lang="ru-RU">возвращает </span>true, <span lang="ru-RU">если
			документ находится в режиме просмотра.</span></p>
			<p><a name="v311p8"></a><span lang="en-US">8. </span><span lang="ru-RU">Свойство
			</span><span lang="en-US">DBxDocSet.WriteIfNotChanged </span><span lang="ru-RU">взамен
			убранного </span><span lang="en-US">EditIfNotChanged (<a href="#v309p1">v.309
			</a></span><a href="#v309p1"><span lang="ru-RU">п.1</span></a><span lang="en-US">)</span></p>
			<p><span lang="en-US">9. </span><span lang="ru-RU">Установка
			свойства </span><span lang="en-US">DBxRealDocProviderSource.UserPermissions</span>
			<span lang="en-US">(<a href="ExtDBDocs_11.htm#v001p2">v.1 </a></span><a href="ExtDBDocs_11.htm#v001p2"><span lang="ru-RU">п.2</span></a><span lang="en-US">)</span>
			<span lang="ru-RU">автоматически создает новую точку подключения с
			правильными разрешениями </span><span lang="en-US">DBPermissions.
			</span><span lang="ru-RU">Явно устанавливать свойство </span><span lang="en-US">MainDBEntry
			</span><span lang="ru-RU">больше не требуется. Если свойство
			</span><span lang="en-US">MainDBEntry </span><span lang="ru-RU">установлено
			в явном виде, то оно сохраняется.</span></p>
			<p><span lang="en-US">10. </span><span lang="ru-RU">Классы
			</span><span lang="en-US">DBxDocTreeModel, DBxSubDocTreeModel </span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v001p9"><span lang="en-US">v.1
			</span><span lang="ru-RU">п.9</span></a><span lang="ru-RU">)
			наследуются от DataTableTreeModelWithIds&lt;Int32&gt; (</span><a href="ExtTools_20.htm#v311p2"><span lang="en-US">ExtTools,
			v.311 </span><span lang="ru-RU">п.2</span></a><span lang="ru-RU">).
			Порядок сортировки устанавливается как свойство </span><span lang="en-US">Sort,
			</span><span lang="ru-RU">а не параметр конструктора базового
			класса. Класс FilteredDataTableTreeModel (</span><a href="ExtDBDocs_11.htm#v052p5"><span lang="en-US">v.52
			</span><span lang="ru-RU">п.5</span></a><span lang="ru-RU">)
			переименован в FilteredDataTableTreeModel</span><span lang="en-US">WithIds&lt;T&gt;
			</span><span lang="ru-RU">и сделан типизированным</span></p>
			<p><a name="v311p11"></a><span lang="en-US">11. </span><span lang="ru-RU">В
			интерфейсе </span><span lang="en-US">IDBxDocValues (<a href="#v001p4">v</a></span><a href="#v001p4"><span lang="ru-RU">.1
			п.4</span></a><span lang="en-US">) </span><span lang="ru-RU">убраны
			методы </span><span lang="en-US">GetCompexValue() </span><span lang="ru-RU">и
			</span><span lang="en-US">SetComplexValue</span><span lang="ru-RU">()</span><span lang="en-US">.
			</span><span lang="ru-RU">Вместо них обеспечивается полноценный
			доступ к отдельным значениям методами </span><span lang="en-US">GetValueArray(),
			GetRowValue() </span><span lang="ru-RU">и </span><span lang="en-US">SetRowValue()</span><span lang="ru-RU">.
			Свойство </span><span lang="en-US">DBxDocValue.ComplexValue
			</span><span lang="ru-RU">заменено на </span><span lang="en-US">ValueArray.</span></p>
			<p><span lang="en-US">12. </span><span lang="ru-RU">Свойство
			</span><span lang="en-US">DataRowDocValues.IsReadOnly (<a href="#v001p4">v</a></span><a href="#v001p4"><span lang="ru-RU">.1
			п.4</span></a><span lang="en-US">) </span><span lang="ru-RU">является
			устанавливаемым для симметрии с </span><span lang="en-US">DataTableDocValues</span><span lang="ru-RU">.
			Изменены</span> <span lang="ru-RU">конструкторы.</span></p>
			<p><span lang="en-US">13. DataTableDocValues,
			DataRowDocValues.GetValueReadOnly() (<a href="#v001p4">v</a></span><a href="#v001p4"><span lang="ru-RU">.1
			п.4</span></a><span lang="en-US">) </span><span lang="ru-RU">возвращают
			</span><span lang="en-US">true</span><span lang="ru-RU">, если
			задано свойство </span><span lang="en-US">Column.Expression</span><span lang="ru-RU">.</span></p>
			<p><span lang="en-US">14. DBxMemoryDocValues (<a href="#v001p4">v</a></span><a href="#v001p4"><span lang="ru-RU">.1
			п.4</span></a><span lang="en-US">) </span><span lang="ru-RU">игнорировал
			установку </span><span lang="en-US">SetReadOnly().</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">310</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">04.02.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. DBxDocTreeModel.CreateTable() </span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v001p9"><span lang="en-US">v.1
			</span><span lang="ru-RU">п.9</span></a><span lang="ru-RU">)
			добавляет &quot;</span><span lang="en-US">Id</span><span lang="ru-RU">&quot;</span>
			<span lang="ru-RU">в список обязательных столбцов.</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">309</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">02.02<span lang="ru-RU">.2022</span>-03.02.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="ru-RU">1. Изменен алгоритм удаления документов и
			поддокументов в для конфигурации с </span><span lang="en-US">DBxDocTypes.UseDeleted=false</span><span lang="ru-RU">.
			Сначала собирается список таблиц и идентификаторов (внутренний
			класс </span><span lang="en-US">DBxRealDocProvider</span><span lang="ru-RU">.RealDelList).
			Затем выполняется очистка ссылочных полей, поддерживающих </span><span lang="en-US">NULL,
			</span><span lang="ru-RU">если эти поля ссылаются на таблицы в
			списке на удаление. Затем в первую очередь удаляются строки с </span><span lang="en-US">NOT
			NULL-</span><span lang="ru-RU">ссылками.</span></p>
			<p>2. <span lang="ru-RU">Исправлены еще ошибки в
			</span><span lang="en-US">DBxRealDocProvider </span><span lang="ru-RU">для
			конфигурации с </span><span lang="en-US">DBxDocTypes.UseDeleted=false
			(<a href="ExtDBDocs_11.htm#v054p2">v.54 </a></span><a href="ExtDBDocs_11.htm#v054p2"><span lang="ru-RU">п.2</span></a><span lang="en-US">).
			</span>
			</p>
			<p>3. DBxDocDBConnectionHelper.CreateRealDocProviderGlobal() для
			провайдера <span lang="en-US">SQLite</span> (<a href="ExtDBDocs_11.htm#v039p1"><span lang="en-US">v.39
			</span>п.1</a>), при <span lang="en-US">DBxDocTypes.UseDeleted=false</span>,
			включает проверку ссылочной целостности, добавляя к строке
			подключения параметр &quot;<span lang="en-US">foreign keys=true</span>&quot;
			<span lang="en-US">(<a href="ExtDB_20.htm">ExtDB, v.309 </a></span><a href="ExtDB_20.htm">п.1</a><span lang="en-US">).</span></p>
			<p>4. Методы удаления поддокументов <span lang="en-US">Delete() </span>в
			классах <span lang="en-US">DBxDocSet </span>проверяют, что
			документ находится в состоянии редактирования</p>
			<p lang="en-US"><a name="v309p1"></a>5. <span lang="ru-RU">Убрано
			неработающее свойство </span>DBxDocSet.EditIfNotChanged</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">308</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">14.01.2022-01.02.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. </span><span lang="ru-RU">Изменена
			реализация интерфейса </span><span lang="en-US">IDBxDocValues </span><span lang="ru-RU">в
			объектах </span><span lang="en-US">DBxDocSet </span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v001p3"><span lang="en-US">v.1
			</span><span lang="ru-RU">п.3</span></a><span lang="ru-RU">). Во
			внутренних классах </span><span lang="en-US">DBxMultiDocs.SingleDocValues,
			MulriDocValues, DBxMultiSubDocs.SingleSubDocValues </span><span lang="ru-RU">и
			</span><span lang="en-US">MultiSubDocValues </span><span lang="ru-RU">изменены
			методы </span><span lang="en-US">GetValueReadOnly(), AllowDBNull()
			</span><span lang="ru-RU">и </span><span lang="en-US">MaxLength().
			</span><span lang="ru-RU">Они обращаются не к столбцам </span><span lang="en-US">DataColumn
			</span><span lang="ru-RU">текущей таблицы, а к столбцам шаблона. </span>
			</p>
			<p><span lang="en-US">2. </span><span lang="ru-RU">Внутренний
			метод </span><span lang="en-US">DBxDocProvider.GetColumnDef(tableName,
			columnName). </span><span lang="ru-RU">Изменена внутренняя
			реализация методов </span><span lang="en-US">GetTemplate() (<a href="ExtDBDocs_11.htm#v001p2">v.1
			</a></span><a href="ExtDBDocs_11.htm#v001p2"><span lang="ru-RU">п.2</span></a><span lang="en-US">).
			</span><span lang="ru-RU">Метод GetColumnNameIndexer() (</span><a href="ExtDBDocs_11.htm#v094p1"><span lang="en-US">v.94
			</span><span lang="ru-RU">п.1</span></a><span lang="ru-RU">) не
			вызывает </span><span lang="en-US">GetTemplate() </span><span lang="ru-RU">для
			создания ненужной копии таблицы.</span></p>
			<p lang="en-US">3. <span lang="ru-RU">Вспомогательные методы
			</span>DBxDocProvider.GetTextValues()</p>
			<p><span lang="ru-RU">4</span><span lang="en-US">. </span><span lang="ru-RU">Методы
			</span><span lang="en-US">DBxDocSet.View(), Edit() </span><span lang="ru-RU">и
			</span><span lang="en-US">Delete() (<a href="ExtDBDocs_11.htm#v001p3">v.1
			</a></span><a href="ExtDBDocs_11.htm#v001p3"><span lang="ru-RU">п.3</span></a><span lang="en-US">),
			</span><span lang="ru-RU">принимающие аргумент </span><span lang="en-US">DBxDocSelection
			</span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v001p7"><span lang="en-US">v.1
			</span><span lang="ru-RU">п.7</span></a><span lang="ru-RU">)</span><span lang="en-US">.</span></p>
			<p>5. Исправления при вызове <span lang="en-US">DBxDocPermissions.TestDocument()
			(<a href="ExtDBDocs_11.htm#v001p5">v.1 </a></span><a href="ExtDBDocs_11.htm#v001p5">п.5</a><span lang="en-US">):</span></p>
			<p><span lang="en-US">- DBxMultiDocs.ViewVersion() </span><span lang="ru-RU">вызывает
			проверку с DBxDocPermissionReason.</span><span lang="en-US">View</span></p>
			<p><span lang="en-US">- </span><span lang="ru-RU">Изменена
			реализация </span><span lang="en-US">DBxMultiDocs.Delete(Int32[]
			docIds). </span><span lang="ru-RU">Теперь сначала выполняется
			просмотр документов. Не выполнялась проверка прав на удаление
			документа (</span><span lang="en-US">View </span><span lang="ru-RU">и
			</span><span lang="en-US">BeforeDelete</span><span lang="ru-RU">)</span><span lang="en-US">.</span></p>
			<p><span lang="en-US">- DBxSingleDoc.Ediit() </span><span lang="ru-RU">выполняет
			проверки </span><span lang="en-US">BeforeRestore </span><span lang="ru-RU">и
			</span><span lang="en-US">BeforeEdit</span></p>
			<p><span lang="en-US">- DBxSingleDoc.Delete() </span><span lang="ru-RU">вызывает
			проверку </span><span lang="en-US">BeforeDelete</span></p>
			<p><a name="v308p6"></a>6. <span lang="en-US">DBxRealDocProvider.ApplyChanges()
			</span>выполняет считывание актуальных значений полей документа и
			использует их при тестировании документов в режимах <span lang="en-US">ApplyEditOrg
			</span>и <span lang="en-US">ApplyDelete. </span>Раньше
			использовались значения, получаемые от клиента, что приводило к
			дыре в безопасности. Если другой пользователь снимал блокировку и
			записывал документ, то пользователь, выполняющий редактирование,
			мог перезаписать документ, даже если он потерял права на изменение
			документа. 
			</p>
			<p lang="en-US">7. DocUndoAction.AddDocAction() <span lang="ru-RU">не
			выполнял инкремент поля </span>docVersion<span lang="ru-RU">, если
			нет базы данных </span>Undo, <span lang="ru-RU">но
			</span>DBxDocTypes.UseVersions=true. <span lang="ru-RU">В
			результате возникало исключение при создании документа.</span>
			<span lang="ru-RU">Также возвращается </span>DocActionId=-1 <span lang="ru-RU">а
			не 0, чтобы обнаруживать повторный вызов
			</span>DBxRealDocProvider.ApplyChanges() <span lang="ru-RU">для
			документа.</span> <span lang="ru-RU">Другие исправления в методах,
			вызываемых из </span>ApplyChanges().</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">301</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">21.10.2021-22.11.2021</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US">1. <span lang="ru-RU">Изменения пространств имен</span></p>
			<p><span lang="en-US">2. </span><span lang="ru-RU">Свойство
			</span><span lang="en-US">CodeCommonFilter.Codes </span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v077p1"><span lang="en-US">v.77
			</span><span lang="ru-RU">п.1</span></a><span lang="ru-RU">) имеет
			тип </span><span lang="en-US">string[], </span><span lang="ru-RU">а
			не </span><span lang="en-US">string. </span><span lang="ru-RU">Свойства
			состояния фильтра доступны только для чтения. Метод </span><span lang="en-US">SetFilter().
			</span><span lang="ru-RU">Исправлен метод GetSqlFilter()</span><span lang="en-US">:
			</span><span lang="ru-RU">в режиме </span><span lang="en-US">Exclude,
			</span><span lang="ru-RU">когда пустые коды не исключаются явно,
			они добавляются в фильтр. Перечисление </span><span lang="en-US">CodesFilterMode
			</span><span lang="ru-RU">переименовано в </span><span lang="en-US">CodeFilterMode.</span></p>
		</td>
	</tr>
</table>
<p><span lang="en-US">См. также <a href="ExtDBDocs_11.htm">версию 1.1</a>
и описание <a href="Changes11_20.htm">перехода на версию 2.0</a></span></p>
</body>
</html>