<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=windows-1251"/>
	<title>Изменения в модуле ExtDBDocs.dll</title>
	<meta name="generator" content="LibreOffice 5.4.7.2 (Windows)"/>
	<meta name="created" content="2017-12-15T18:38:40.447000000"/>
	<meta name="changed" content="2022-01-28T21:09:37.583000000"/>
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<meta name="created" content="00:00:00">
	<style type="text/css">
		@page { margin: 2cm }
		td p { margin-bottom: 0.25cm; background: transparent; line-height: 120%; orphans: 2; widows: 2 }
		h1 { margin-bottom: 0.21cm; background: transparent; orphans: 2; widows: 2 }
		h1.western { font-family: "Liberation Serif", serif }
		h1.cjk { font-family: "SimSun"; font-size: 24pt }
		h1.ctl { font-family: "Mangal"; font-size: 24pt }
		p { margin-bottom: 0.25cm; background: transparent; line-height: 120%; orphans: 2; widows: 2 }
		a:link { so-language: zxx }
		a:visited { color: #800080 }
	</style>
</head>
<body lang="ru-RU" vlink="#800080" dir="ltr">
<h1 class="western">История изменений <br/>
Модуль <span lang="en-US">ExtDBDocs</span>.<span lang="en-US">dll</span>
(Доступ к документам в базе данных)</h1>
<p>Модуль входит в комплект библиотек <span lang="en-US">FreeLibSet</span>,
и является свободным программным обеспечением (Free Software)</p>
<h1 class="western">Версия <span lang="en-US">2</span>.<span lang="en-US">0</span></h1>
<p>Полный номер версии файла, который можно узнать, посмотрев
свойства файла или в меню &laquo;О программе&raquo;, состоит из
четырех чисел и имеет вид &laquo;<span lang="en-US">2</span>.<span lang="en-US">0</span>.0.<span lang="en-US">X</span>&raquo;.
В таблице указано только последнее число &laquo;<span lang="en-US">X</span>&raquo;</p>
<table width="100%" cellpadding="2" cellspacing="0">
	<col width="25*">
	<col width="35*">
	<col width="196*">
	<tr valign="top">
		<td width="10%" style="border: 1.00pt solid #000000; padding: 0.05cm">
			<p align="center">Версия</p>
		</td>
		<td width="14%" style="border-top: 1.00pt solid #000000; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0.05cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p align="center">Дата</p>
		</td>
		<td width="77%" style="border-top: 1.00pt solid #000000; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0.05cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p align="center">Что сделано</p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">308</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">14.01.2022-<span lang="ru-RU">28</span>.01.2022</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p><span lang="en-US">1. </span><span lang="ru-RU">Изменена
			реализация интерфейса </span><span lang="en-US">IDBxDocValues </span><span lang="ru-RU">в
			объектах </span><span lang="en-US">DBxDocSet </span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v001p3"><span lang="en-US">v.1
			</span><span lang="ru-RU">п.3</span></a><span lang="ru-RU">). Во
			внутренних классах </span><span lang="en-US">DBxMultiDocs.SingleDocValues,
			MulriDocValues, DBxMultiSubDocs.SingleSubDocValues </span><span lang="ru-RU">и
			</span><span lang="en-US">MultiSubDocValues </span><span lang="ru-RU">изменены
			методы </span><span lang="en-US">GetValueReadOnly(), AllowDBNull()
			</span><span lang="ru-RU">и </span><span lang="en-US">MaxLength().
			</span><span lang="ru-RU">Они обращаются не к столбцам </span><span lang="en-US">DataColumn
			</span><span lang="ru-RU">текущей таблицы, а к столбцам шаблона. </span>
			</p>
			<p><span lang="en-US">2. </span><span lang="ru-RU">Внутренний
			метод </span><span lang="en-US">DBxDocProvider.GetColumnDef(tableName,
			columnName). </span><span lang="ru-RU">Изменена внутренняя
			реализация методов </span><span lang="en-US">GetTemplate() (<a href="ExtDBDocs_11.htm#v001p2">v.1
			</a></span><a href="ExtDBDocs_11.htm#v001p2"><span lang="ru-RU">п.2</span></a><span lang="en-US">).
			</span><span lang="ru-RU">Метод GetColumnNameIndexer() (</span><a href="ExtDBDocs_11.htm#v094p1"><span lang="en-US">v.94
			</span><span lang="ru-RU">п.1</span></a><span lang="ru-RU">) не
			вызывает </span><span lang="en-US">GetTemplate() </span><span lang="ru-RU">для
			создания ненужной копии таблицы.</span></p>
			<p lang="en-US">3. <span lang="ru-RU">Вспомогательные методы
			</span>DBxDocProvider.GetTextValues()</p>
			<p>4. Исправления при вызове <span lang="en-US">DBxDocPermissions.TestDocument()
			(<a href="ExtDBDocs_11.htm#v001p5">v.1 </a></span><a href="ExtDBDocs_11.htm#v001p5">п.5</a><span lang="en-US">):</span></p>
			<p><span lang="en-US">- DBxMultiDocs.ViewVersion() </span><span lang="ru-RU">вызывает
			проверку с DBxDocPermissionReason.</span><span lang="en-US">View</span></p>
			<p><span lang="en-US">- </span><span lang="ru-RU">Изменена
			реализация </span><span lang="en-US">DBxMultiDocs.Delete(Int32[]
			docIds). </span><span lang="ru-RU">Теперь сначала выполняется
			просмотр документов. Не выполнялась проверка прав на удаление
			документа (</span><span lang="en-US">View </span><span lang="ru-RU">и
			</span><span lang="en-US">BeforeDelete</span><span lang="ru-RU">)</span><span lang="en-US">.</span></p>
			<p><span lang="en-US">-  DBxSingleDoc.Ediit() </span><span lang="ru-RU">выполняет
			проверки </span><span lang="en-US">BeforeRestore </span><span lang="ru-RU">и
			</span><span lang="en-US">BeforeEdit</span></p>
			<p><span lang="en-US">- DBxSingleDoc.Delete() </span><span lang="ru-RU">вызывает
			проверку </span><span lang="en-US">BeforeDelete</span></p>
		</td>
	</tr>
	<tr valign="top">
		<td width="10%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: 1.00pt solid #000000; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0.05cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">301</p>
		</td>
		<td width="14%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US" align="center">21.10.2021-22.11.2021</p>
		</td>
		<td width="77%" style="border-top: none; border-bottom: 1.00pt solid #000000; border-left: none; border-right: 1.00pt solid #000000; padding-top: 0cm; padding-bottom: 0.05cm; padding-left: 0cm; padding-right: 0.05cm">
			<p lang="en-US">1. <span lang="ru-RU">Изменения пространств имен</span></p>
			<p><span lang="en-US">2. </span><span lang="ru-RU">Свойство
			</span><span lang="en-US">CodeCommonFilter.Codes </span><span lang="ru-RU">(</span><a href="ExtDBDocs_11.htm#v077p1"><span lang="en-US">v.77
			</span><span lang="ru-RU">п.1</span></a><span lang="ru-RU">) имеет
			тип </span><span lang="en-US">string[], </span><span lang="ru-RU">а
			не </span><span lang="en-US">string. </span><span lang="ru-RU">Свойства
			состояния фильтра доступны только для чтения. Метод </span><span lang="en-US">SetFilter().
			</span><span lang="ru-RU">Исправлен метод GetSqlFilter()</span><span lang="en-US">:
			</span><span lang="ru-RU">в режиме </span><span lang="en-US">Exclude,
			</span><span lang="ru-RU">когда пустые коды не исключаются явно,
			они добавляются в фильтр. Перечисление </span><span lang="en-US">CodesFilterMode
			</span><span lang="ru-RU">переименовано в </span><span lang="en-US">CodeFilterMode.</span></p>
		</td>
	</tr>
</table>
<p><span lang="en-US">См. также <a href="ExtDBDocs_11.htm">версию 1.1</a>
и описание <a href="Changes11_20.htm">перехода на версию 2.0</a></span></p>
</body>
</html>